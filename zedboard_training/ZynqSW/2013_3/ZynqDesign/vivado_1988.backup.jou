#-----------------------------------------------------------
# Vivado v2013.3 (64-bit)
# SW Build 329390 on Wed Oct 16 18:37:02 MDT 2013
# IP Build 192953 on Wed Oct 16 08:44:02 MDT 2013
# Start of session at: Tue Nov 19 18:04:50 2013
# Process ID: 6196
# Log file: C:/Users/Gary/AppData/Roaming/Xilinx/Vivado/vivado.log
# Journal file: C:/Users/Gary/AppData/Roaming/Xilinx/Vivado\vivado.jou
#-----------------------------------------------------------
start_gui
open_project C:/Speedway/ZynqHW/2013_3/ZynqDesign/ZynqDesign.xpr
set_property ip_repo_paths  C:/Speedway/ZynqHW/2013_3/IP [current_fileset]
update_ip_catalog
update_ip_catalog -rebuild
open_bd_design {C:/Speedway/ZynqHW/2013_3/ZynqDesign/ZynqDesign.srcs/sources_1/bd/Z_system/Z_system.bd}
startgroup
create_bd_cell -type ip -vlnv Avnet:user:PWM_w_Int:1.0 PWM_w_Int_0
endgroup
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.NUM_MI {2}] [get_bd_cells axi_interconnect_0]
endgroup
connect_bd_intf_net [get_bd_intf_pins axi_interconnect_0/M01_AXI] [get_bd_intf_pins PWM_w_Int_0/S00_AXI]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_reset0_n] [get_bd_pins PWM_w_Int_0/s00_axi_aresetn] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_clk0] [get_bd_pins PWM_w_Int_0/s00_axi_aclk] [get_bd_pins processing_system7_0/FCLK_CLK0]
regenerate_bd_layout
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_reset0_n] [get_bd_pins axi_interconnect_0/M01_ARESETN] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_clk0] [get_bd_pins axi_interconnect_0/M01_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
startgroup
set_property -dict [list CONFIG.PCW_USE_FABRIC_INTERRUPT {1} CONFIG.PCW_IRQ_F2P_INTR {1}] [get_bd_cells processing_system7_0]
endgroup
connect_bd_net [get_bd_pins PWM_w_Int_0/Interrupt_out] [get_bd_pins processing_system7_0/IRQ_F2P]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:ila:3.0 ila_0
endgroup
startgroup
set_property -dict [list CONFIG.C_PROBE2_WIDTH {32} CONFIG.C_PROBE1_WIDTH {20} CONFIG.C_PROBE0_WIDTH {8} CONFIG.C_NUM_OF_PROBES {4}] [get_bd_cells ila_0]
endgroup
set_property location {4.5 1383 346} [get_bd_cells ila_0]
connect_bd_net [get_bd_pins PWM_w_Int_0/LEDs] [get_bd_pins ila_0/probe0]
connect_bd_net [get_bd_pins PWM_w_Int_0/PWM_Counter] [get_bd_pins ila_0/probe1]
connect_bd_net [get_bd_pins PWM_w_Int_0/DutyCycle] [get_bd_pins ila_0/probe2]
connect_bd_net -net [get_bd_nets pwm_w_int_0_interrupt_out] [get_bd_pins ila_0/probe3] [get_bd_pins PWM_w_Int_0/Interrupt_out]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_clk0] [get_bd_pins ila_0/clk] [get_bd_pins processing_system7_0/FCLK_CLK0]
assign_bd_address
regenerate_bd_layout
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:jtag_axi:1.0 jtag_axi_0
endgroup
startgroup
set_property -dict [list CONFIG.NUM_SI {2}] [get_bd_cells axi_interconnect_0]
endgroup
set_property location {1 261 80} [get_bd_cells jtag_axi_0]
connect_bd_intf_net [get_bd_intf_pins jtag_axi_0/M_AXI] [get_bd_intf_pins axi_interconnect_0/S01_AXI]
set_property location {1 236 107} [get_bd_cells jtag_axi_0]
set_property location {1 232 60} [get_bd_cells jtag_axi_0]
set_property location {1 234 68} [get_bd_cells jtag_axi_0]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_reset0_n] [get_bd_pins jtag_axi_0/aresetn] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_clk0] [get_bd_pins jtag_axi_0/aclk] [get_bd_pins processing_system7_0/FCLK_CLK0]
validate_bd_design
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_clk0] [get_bd_pins axi_interconnect_0/S01_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net -net [get_bd_nets processing_system7_0_fclk_reset0_n] [get_bd_pins axi_interconnect_0/S01_ARESETN] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
validate_bd_design
save_bd_design
reset_run synth_1
launch_runs impl_1 -to_step write_bitstream
wait_on_run impl_1
open_run impl_1
archive_project C:/Speedway/ZynqHW/2013_3/ZynqHW_Lab7_Solution.xpr.zip -force
export_hardware [get_files C:/Speedway/ZynqHW/2013_3/ZynqDesign/ZynqDesign.srcs/sources_1/bd/Z_system/Z_system.bd] [get_runs impl_1] -bitstream -dir C:/Speedway/ZynqHW/2013_3/SDK_PWM
launch_sdk -bit C:/Speedway/ZynqHW/2013_3/SDK_PWM/hw/Z_system_wrapper.bit -workspace C:/Speedway/ZynqHW/2013_3/SDK_PWM -hwspec C:/Speedway/ZynqHW/2013_3/SDK_PWM/hw/Z_system.xml
open_hw
connect_hw_server -host localhost -port 60001
current_hw_target [get_hw_targets */xilinx_tcf/Digilent/210248483661]
open_hw_target
set_property PROGRAM.FILE {C:/Speedway/ZynqHW/2013_3/ZynqDesign/ZynqDesign.runs/impl_1/Z_system_wrapper.bit} [lindex [get_hw_devices] 1]
set_property PROBES.FILE {C:/Speedway/ZynqHW/2013_3/ZynqDesign/ZynqDesign.runs/impl_1/debug_nets.ltx} [lindex [get_hw_devices] 1]
current_hw_device [lindex [get_hw_devices] 1]
refresh_hw_device [lindex [get_hw_devices] 1]
run_hw_ila hw_ila_1 -trigger_now 1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
add_wave -into {hw_ila_data_1.wcfg} -radix bin [get_hw_probes {Z_system_i/pwm_w_int_0_interrupt_out}]
run_hw_ila hw_ila_1 -trigger_now 1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
run_hw_ila hw_ila_1 -trigger_now 1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
set_property TRIGGER_COMPARE_VALUE eq1'bR [get_hw_probes Z_system_i/pwm_w_int_0_interrupt_out -of_objects [get_hw_ilas hw_ila_1]]
run_hw_ila hw_ila_1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
run_hw_ila hw_ila_1
set_property CONTROL.TRIGGER_POSITION 500 [get_hw_ilas hw_ila_1]
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
run_hw_ila hw_ila_1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
set_property CONTROL.TRIGGER_POSITION 3 [get_hw_ilas hw_ila_1]
run_hw_ila hw_ila_1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
run_hw_ila hw_ila_1
set_property CONTROL.TRIGGER_POSITION 500 [get_hw_ilas hw_ila_1]
run_hw_ila hw_ila_1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
reset_hw_axi [get_hw_axis hw_axi_1]
create_hw_axi_txn write_txn [get_hw_axis hw_axi_1] -type WRITE -address 43c00000 -len 1 -data 000a1220
run_hw_axi [get_hw_axi_txns write_txn]
run_hw_ila hw_ila_1 -trigger_now 1
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
set_property DATA 000fffff [get_hw_axi_txns write_txn]
run_hw_ila hw_ila_1
run_hw_axi [get_hw_axi_txns write_txn]
wait_on_hw_ila hw_ila_1
display_hw_ila_data [upload_hw_ila_data hw_ila_1]
create_hw_axi_txn read_txn [get_hw_axis hw_axi_1] -type READ -address 400000000 - len 4
create_hw_axi_txn read_txn [get_hw_axis hw_axi_1] -type READ -address 40000000 - len 4
create_hw_axi_txn read_txn [get_hw_axis hw_axi_1] -type READ -address 40000000 -len 4
run_hw_axi [get_hw_axi_txns read_txn]
create_hw_axi_txn write_bram [get_hw_axis hw_axi_1] -type WRITE -address 40000000 -len 4 -data {44444444_33333333_22222222_11111111}
run_hw_axi [get_hw_axi_txns write_bram]
run_hw_axi [get_hw_axi_txns read_txn]
archive_project C:/Speedway/ZynqHW/2013_3/ZynqHW_Lab8_Solution.xpr.zip -force
